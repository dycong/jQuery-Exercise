<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>添加删除记录练习</title>
    <link rel="stylesheet" type="text/css" href="css/css.css"/>
</head>
<body>

<table id="employeeTable">
    <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Salary</th>
        <th>&nbsp;</th>
    </tr>
    <tbody id="t-body">
    <tr>
        <td>Tom</td>
        <td>tom@tom.com</td>
        <td>5000</td>
        <td><a href="deleteEmp?id=001">Delete</a></td>
    </tr>
    <tr>
        <td>Jerry</td>
        <td>jerry@sohu.com</td>
        <td>8000</td>
        <td><a href="deleteEmp?id=002">Delete</a></td>
    </tr>
    <tr>
        <td>Bob</td>
        <td>bob@tom.com</td>
        <td>10000</td>
        <td><a href="deleteEmp?id=003">Delete</a></td>
    </tr>
    </tbody>

</table>

<div id="formDiv">

    <h4>添加新员工</h4>

    <table>
        <tr>
            <td class="word">name:</td>
            <td class="inp">
                <input type="text" name="empName" id="empName"/>
            </td>
        </tr>
        <tr>
            <td class="word">email:</td>
            <td class="inp">
                <input type="text" name="email" id="email"/>
            </td>
        </tr>
        <tr>
            <td class="word">salary:</td>
            <td class="inp">
                <input type="text" name="salary" id="salary"/>
            </td>
        </tr>
        <tr>
            <td colspan="2" align="center">
                <button id="addEmpButton" value="abc">
                    Submit
                </button>
            </td>
        </tr>
    </table>
</div>

</body>
<script type="text/javascript" src="js/jquery-1.10.1.js"></script>
<script type="text/javascript">

    $(function () {
        //1.收集数据
        //2. tr -- td , tr 添加到tbody
        //数据清除
        $('#addEmpButton').click(function () {
            $('<tr></tr>')
                .append('<td>' + $('#empName').val() + '</td>')
                .append('<td>' + $('#email').val() + '</td>')
                .append('<td>' + $('#salary').val() + '</td>')
                .append('<td><a href="deleteEmp?id=003">Delete</a></td>')
                .appendTo($('#t-body'))

            $('#empName').val('');
            $('#email').val('');
            $('#salary').val('');
        })

        //事件委托
        //确认弹窗
        //点击确认的结果
        //删除tr
        //console.log($(this).parent().parent().children());
        //取消浏览器默认行为
        $('#employeeTable').on('click', 'a', function (e) {
            if (confirm('确认删除' + $(this).parent().parent().children().html() + '吗?')) {
                $(this).parent().parent().remove();
            }
            e.preventDefault();
        })

    });

</script>

</html>