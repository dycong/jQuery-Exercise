<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>爱好选择器</title>
</head>
<body>

<form>
    你爱好的运动是？<input type="checkbox" id="checkedAllBox"/>全选/全不选

    <br/>
    <input type="checkbox" name="items" value="足球"/>足球
    <input type="checkbox" name="items" value="篮球"/>篮球
    <input type="checkbox" name="items" value="羽毛球"/>羽毛球
    <input type="checkbox" name="items" value="乒乓球"/>乒乓球
    <br/>
    <input type="button" id="checkedAllBtn" value="全　选"/>
    <input type="button" id="checkedNoBtn" value="全不选"/>
    <input type="button" id="checkedRevBtn" value="反　选"/>
    <input type="button" id="sendBtn" value="提　交"/>
</form>

<script type="text/javascript" src="js/jquery-1.10.1.js"></script>
<script type="text/javascript">
    $(function () {
        /*
         功能说明:
         1. 点击'全选': 选中所有爱好
         2. 点击'全不选': 所有爱好都不勾选
         3. 点击'反选': 改变所有爱好的勾选状态
         5. 点击'全选/全不选': 选中所有爱好, 或者全不选中
         6. 点击某个爱好时, 必要时更新'全选/全不选'的选中状态
         */

        //1. 点击'全选': 选中所有爱好
        $('#checkedAllBtn').click(function () {
            $('input[name="items"]').prop('checked', true);
            $('#checkedAllBox').prop('checked', true);
        })

        //2. 点击'全不选': 所有爱好都不勾选
        $('#checkedNoBtn').click(function () {
            $('input[name="items"]').prop('checked', false);
            $('#checkedAllBox').prop('checked', false);
        })

        ///3. 点击'反选': 改变所有爱好的勾选状态
        //每一个$items 的 checked 状态 都是没选中，再去点击反选， 全选与全不选是勾上的状态

//        if ($items.not(':checked').length === 0) {
//            $checkedAllBox.prop('checked', true)
//        }
        $('#checkedRevBtn').click(function () {
            $('input[name="items"]').each(function () {
                this.checked = !this.checked;
            })
            $('#checkedAllBox').prop('checked', $('input[name="items"]').not(':checked').length == 0)
        })


        //5. 点击'全选/全不选': 选中所有爱好, 或者全不选中
        $('#checkedAllBox').click(function () {
            $('input[name="items"]').prop('checked',this.checked)
        })

        //  6. 点击某个爱好时, 必要时更新'全选/全不选'的选中状态
        //每一个$items 的 checked 状态没选中 的时候 个数为 0
        //证明当前元素的状态是都选中上的
        $('input[name="items"]').click(function () {
            $('#checkedAllBox').prop('checked',$('input[name="items"]').not(':checked').length == 0)
        })


    })

</script>
</body>
</html>